% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/validate-screenshot.R
\name{validate_block_screenshot}
\alias{validate_block_screenshot}
\title{Validate a blockr block by generating a screenshot}
\usage{
validate_block_screenshot(
  block,
  data = datasets::mtcars,
  filename = NULL,
  output_dir = "man/figures",
  width = 800,
  height = 600,
  delay = 5,
  expand_advanced = FALSE,
  use_dock = TRUE,
  dataset = "mtcars",
  dataset_package = "datasets",
  verbose = TRUE
)
}
\arguments{
\item{block}{A blockr block object (e.g., from new_ggplot_block())}

\item{data}{Data to use for the block (default: mtcars)}

\item{filename}{Name for the screenshot file (default: auto-generated)}

\item{output_dir}{Directory to save screenshot (default: "man/figures")}

\item{width}{Screenshot width in pixels (default: 800)}

\item{height}{Screenshot height in pixels (default: 600)}

\item{delay}{Seconds to wait for app to load (default: 5)}

\item{expand_advanced}{Logical. If TRUE, attempts to click "advanced options"
toggle before taking screenshot (default: FALSE)}

\item{use_dock}{Logical. If TRUE, uses blockr.dock for improved styling
and automatically crops to the block panel (default: TRUE)}

\item{dataset}{Character. Name of the dataset to use in dock mode
(default: "mtcars"). Must be a dataset available via data().}

\item{dataset_package}{Character. Package containing the dataset
(default: "datasets").}

\item{verbose}{Print progress messages (default: TRUE)}
}
\value{
A list with components:
\itemize{
\item success: Logical indicating if screenshot was created successfully
\item path: Full path to the screenshot file (NULL if failed)
\item error: Error message if failed (NULL if successful)
\item filename: Name of the screenshot file
}
}
\description{
This function creates a temporary Shiny app with the provided block,
takes a screenshot, and returns the result. It's designed to be a
simple, direct way to test whether a block implementation works correctly.
}
\examples{
\dontrun{
# Simple usage with default data (mtcars)
result <- validate_block_screenshot(
  new_ggplot_block(chart_type = "point", x = "mpg", y = "hp")
)

# With custom data
result <- validate_block_screenshot(
  new_ggplot_block(chart_type = "bar", x = "Species"),
  data = iris,
  filename = "iris-bar.png",
  dataset = "iris",
  dataset_package = "datasets"
)

# With advanced options expanded
result <- validate_block_screenshot(
  new_theme_block(),
  expand_advanced = TRUE
)

# Check if successful
if (result$success) {
  cat("Screenshot saved to:", result$path)
} else {
  cat("Failed:", result$error)
}
}

}
